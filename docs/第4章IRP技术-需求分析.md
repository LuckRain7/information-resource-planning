# 第 4 章 IRP 技术— 需求分析

## 4.1 引言 ： IRP 的需求分析

## 4.2 业务分析与业务模型

### 4.2.1 研制职能域模型

职能域( Function Area) 或职能范围、业务范围，是指-一个 企业或组织中的一-些主要业务活动领域，如工程、市场、生产、科研、销售等。一个中型制造厂的职能域可列举如下:

1. 经营计划
2. 财务
3. 产品计划
4. 材料采购
5. 生产计划
6. 生产
7. 销售（国内（成品姑、菌种）、国外\*）
8. 物流（配送）
9. 人事
10. 审计
11. 研发
12. 品控
13. 宣传（营销）（文化宣传，品牌宣传）
14. 安全（职业安全、工厂安全）
15. 基建（小基建、新员工宿舍）
16. 信息化
17. 项目管理

### 4.2.2 研制业务过程模型

（1）根据七河生物提供的**表单数据**和**七河生物组织架构及部门职责.doc** 初步建立 对应职能域的业务过程。

> ps：尽量全面，不要怕错，具体调研的时候，部门人员会指出问题

（2）前往业务部门进行具体调研

> ps：注意记录调研过程中部门人员提出的业务需求

（3）调研过程中，核对业务过程、同时形成细化的业务活动文档。

（4）根据业务过程及具体业务活动，在调研中形成 `负责人-xx职能域/业务过程矩阵`表

### 4.2.3 业务活动分析

（3）调研过程中，核对业务过程、同时形成细化的业务活动文档。

（4）根据业务过程及具体业务活动，在调研中形成 `负责人-xx职能域/业务过程矩阵`表

### 4.2.4 业务模型的复查与确认

### 4.2.5 业务模型的计算机表示

业务模型是一张完整的图表。

业务模型的研制又是一种不断讨论 、 修改和复查的渐进过程， 其成果还要与其他规划内容相关联。 基于这两方面的考虑， 业务模型的研制过程和表示方式应该是计算机化的— 不是仅仅用简单的文字图表编辑工具（如 W ord) 获得一种打印文档， 而是具有方便的人一机交互作用和自动相关修改等功能的活化的软件工具。

为使业务模型的建立和管理计算机化， 首先要建立一套编码规范：

### 4.2.6 关键成功因素分析法在业务分析中的作用

112 页

确定一个企业的关键成功因素， 需要考虑这样几个方面：

- 确保企业具有竞争能力的关键因素；

- 不同类型的业务， 有不同的关键成功因素；

- 在不同的时期内， 可能有不同的关键成功因素；

- 外部环境变化， 可能引起关键成功因素的改变；

- 不同的高级管理人员， 可能对企业的关键成功因素有不同的看法， 等等。

关键成功因素应该成为最高层管理人员管理控制企业系统的基础。 对同一行业的不同
企业来说， 某些关键成功因素差不多是共同的。

example:

汽车工业

- 燃料的节约；

- 式样；

- 高效的销售组织；

- 生产成本的严格控制。

## 4.3 用户视图分析

### 4.3.1 用户视图的概念与范围表达

> 第 112 页开始

**用户视图的定义与规范化表述包括：**

- 用户视图标识；
- 用户视图名称 ；
- 用户视图组成和主码。

#### 4.3.1.1 用户视图标识、名称

**用户视图分为三大类：**

- 输入大类（申请之类）
- 存储大类
- 输出大类（统计性）

**每大类下分为四小类：**

- 单证／卡片小类
- 账册小类（涉及到钱的）
- 报表小类
- 其他小类（格式化电话记录、 屏幕数据显示格式等）。（记录类型）

**用户视图标识的编码规则如下**

D（表示：用户视图）

xx（职能域编码）

x（大类（流向）编码【1=输入|2=存储|3=输出】）

x（小类（类型）编码【1=单证|2=账册|3=报表|4=其他小类】）

xx（序号【顺序 01-99】）

x（族码【A-Z】）

**实例**

用户视图标识： D 04 1 3 09

用户视图名称： 材料申报单

**用户视图生存期是指用户视图在管理工作中从形成到失去作用的时间周期。 **

我们同样采取编码方式进行分类 ：
1 =动态， 2 =日， 3 ＝周， 4=旬，5 =月， 6 ＝季， 7 =年， 8 ＝永久

例如， 上例的用户视图生存期是“月” ， 编码是“5" 。 如果该申报表要保留一年， 那么生存期就要改为“年” ， 编码是“7 " 。

#### 4.3.1.1 用户视图组成

| 序号 | 数据项／元素名称 | 数据项／元素定义 |
| ---- | ---------------- | ---------------- |
| 01   | NY               | 年月             |
| 02   | DWBM             | 单位编码         |
| 03   | CLBM             | 材料编码         |
| 04   | SL               | 数量             |
| 05   | YTDM             | 用途代码         |

### 4.3.2 数据结构规范化

> 参考数据结构规范化.md

1. 从单个用户视图导出一范式

2. 导出二范式

3. 导出三范式

4. 用户视图组成的整理模式

模式一： 列名稳定， 行名稳定， 按列名整理用户视图组成。

模式二： 列名不稳定， 行名稳定， 按列名代码化整理用户视图组成。

模式三： 列名不稳定， 行名也不稳定， 按列名代码化和行名代码化整理用户视图组成。

5. <span style="color:red;">整理用户视图登记的注意事项</span>

用户视图的收集、 分析与整理， 是保证信息需求分析和其后系统建模的基础， 业务分析员和系统分析员必须认真工作 ， 还要注意下列事项 ：

(1) 凡可作“输入”或“存储”大类的， 以及可作“输出”或“存储”大类的， 一律归类为“存储”大类（码值“2 '0） ；

(2) “存储”大类的用户视图应规范化到三范式， 并定义其主码， 其他大类视图则不必如此 ；

(3) “存储”大类的用户视图经规范化， 有的原先的一个用户视图化为几个规范化的用户视图， 我们称它们为“同族用户视图” ， 它们的标识仅有族码的不同；

(4) 加强各职能域用户视图的交叉复查， 等价用户视图只需登记一次。

### 4.3.3 报表规范化分析实例

发电厂的生产月报表与日报表相同

## 4.4 数据元素在用户视图中的分布分析

> 分析数据元素的出现频率

数据元素（Data Elements）是最小的不可再分的信息单位， 是数据对象的抽象。 数据元素具有类似化学元素的意义， 所以企业中的数据元素数目是有统计规律的， 为此， 必须加强数据元素标准化定义工作和一致性控制。

出现频度越多的数据元素， 越有可能是共享的数据元素， 把它们识别列出是有意义的

而出现频度很低的数据元素， 特别是出现频度为 1 （即只在一个用户视图中出现）的数据元素，

很可能是孤立的数据元素， 或者是命名不当的数据元素， 在交叉复查时要引起注意

数据元素在用户视图中的分布分析， 在消除“同名异义”数据元素的处理过程中也会发挥引导作用。

## 4.5 数据流分析

**我们分析数据流的方法是：**

- 绘制各职能域的一级数据流程图和二级数据流程图；

- 完成数据流程图中所标注的用户视图的组成登记；

- 将上述两项工作结合起来， 进行数据流的量化分析。

**数据流程图**（Data Flow Diagram ， 简称 DFD )是结构化分析的重要方法， 我们在信息工程中应用的 DFD 经过了一定的简化， 即一种标准化的一级流程图（1-DFD ）和二级流程图(2-DFD ) 。 其主要作用是：

- 便于用户表达功能需求和数据需求及其联系；
- 便于两类人员共同理解现行系统和规划系统的框架；
- 清晰表达数据流的情况；
- 有利于系统建模。

### 4.5.1 一级数据流程图

::: tip 总结

- 将职能域与职能域之间连接起来
- 将职能域与外单位之间连接起来（外单位：供应商单位、合作公司）

- 标注数据流的表单名称（中间传递的是哪张表）

:::

一级数据流程图（1-DFD ）是建立业务模型、 调查记录某一职能域的内外信息流情况的手段。 结合用户视图的定义， 复查一级数据流程图， 记录每个职能域的输出、 存储和输入数据流， 保证全企业的数据流的一致性， 是重要的数据分析工作。

在需求分析开始阶段，一旦定义了职能域，就要开始一级数据流程图的绘制工作 ：每个职能域绘制一张一级数据流程图， 该职能域即为中心处理框， 居中； 左（上）方为数据的输入来源单位， 右（下）方为数据的输出去向单位； 在进出数据流的箭杆上（下）标出有关的用户视图标识或名称。 可以在调研中边研讨， 边绘制一级数据流程图的草图。

一级数据流程图是从全企业的高度， 综合、 整体地观察每一个职能域， 通过数据流将一些职能域联结起来， 使分析人员形成对全企业的整体认识。

![image-20200604150017604](http://img.rain7.top/image-20200604150017604.png)

### 4.5.2 二级数据流程图

::: tip 总结

将一级数据流进行细化

- 与外部链接与一级数据流一致
- 内部业务过程之间，通过中间传递的表格或表单进行链接

:::

二级数据流程图（2-DFD）

![image-20200604170238219](http://img.rain7.top/image-20200604170238219.png)

二级数据流程图是某一职能域中业务过程和数据需求的进一步调查的记录， 关键是业务过程的识别与定义， 以及存储类用户视图的定义与规范化。 类似地， 它是业务模型调研和用户视图调研的“草图” ， 不必在布图和线条的规整上多下工夫。 但是， 我们对二级流图进行 了一定的简化和规范化 ：

- 任何两个处理框的连接必须经过存储框；
- 任何两个存储框的连接必须经过处理框。

### 4.5.3 数据流的量化分析

只有进行了数据流的量化分析，才能制定出科学的数据分布规划，进而提出数据存储设备和网络通信方案所需要的数据流数据。

#### 1. 输入、输出数据流

输入、输出数据流是指职能域内外的数据流，一般有两种情况：

- 职能域与职能域之间的数据流

- 职能域与外单位之间的数据流

记录数据流的一般格式是 ：

![image-20200609164409424](https://raw.githubusercontent.com/LuckRain7/images/master/information-resource-planning/image-20200609164409424.png)

**系统对数据流量的估算是按以下公式进行的：**

![image-20200609162241403](http://img.rain7.top/image-20200609162241403.png)

形成的输出数据流分析报表

![image-20200609164924187](https://raw.githubusercontent.com/LuckRain7/images/master/information-resource-planning/image-20200609164924187.png)

#### 2. 数据存储分析

数据存储是指职能域内需要存储的数据，即二级数据流程图中的存储框。一个职能域 的数据存储量的统计，是 IRP2000 系统根据用户视图标识中大类码值为 2 自动识别进行 的，存储数据量的估算方法与输入、输出数据流是一样的。

![image-20200609165039671](https://raw.githubusercontent.com/LuckRain7/images/master/information-resource-planning/image-20200609165039671.png)

#### 3．数据流录入的简化

由于输入和输出的相对性， 即一个职能域的输出是另一个职能域的输入， 在录人数据流时遵循下述要领， 不仅会减少工作量（接近一半的录人量） ， 而且还会保证全企业数据流分析的准确性：

- 各职能域录人各自的全部输出数据流；
- 各职能域的输入数据流中仅录人来 自外单位的输入数据流。

![image-20200609165428646](https://raw.githubusercontent.com/LuckRain7/images/master/information-resource-planning/image-20200609165428646.png)
